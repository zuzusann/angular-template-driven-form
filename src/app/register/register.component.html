<section class="container" [ngClass]="{'form-shadow': registrationForm.touched}">
    <header>Registration Form</header>

    <form class="form" (ngSubmit)="onFormSubmitted(registrationForm)" #registrationForm="ngForm">
        <div class="column">
            <div class="input-box">
                <input type="text" placeholder="First Name" name="firstname" [(ngModel)]="user.firstName" required
                    #fname="ngModel" />
                <div>
                    <small *ngIf="fname.invalid && fname.touched">*First Name is a Required Field</small>
                </div>
            </div>

            <div class="input-box">
                <input type="text" placeholder="Last Name" name="lastname" [(ngModel)]="user.lastName" required
                    #lname="ngModel" />
                <div>
                    <small *ngIf="lname.invalid && lname.touched">*Last Name is a Required Field</small>
                </div>
            </div>
        </div>

        <div class="input-box">
            <input type="text" placeholder="Email" name="email" [(ngModel)]="user.emailAddress" required email
                #email="ngModel" />
            <div>
                <small *ngIf="email.invalid && email.touched">*Enter email is not valid</small>
            </div>
        </div>

        <div class="column">
            <div class="input-box">
                <input type="number" placeholder="Phone Number" [(ngModel)]="user.phone" name="phone" ngModel>
            </div>
            <div class="input-box">
                <input type="date" placeholder="Date of Birth" name="dob" [(ngModel)]="user.dob" required
                    #dob="ngModel" />
                <div>
                    <small *ngIf="dob.invalid && dob.touched">*Date of Birth is a required field</small>
                </div>
            </div>
        </div>
        <div class="input-box">
            <input type="text" placeholder="username" name="username" [(ngModel)]="user.username" required username
                #uname="ngModel" />
            <div>
                <small *ngIf="uname.invalid && uname.touched">*UserName is a required field</small>
            </div>
        </div>

        <div class="input-box">
            <input type="text" placeholder="password" name="password" [(ngModel)]="user.password" required password
                #password="ngModel" minlength="8"/>
            <div>
                <small *ngIf="password.invalid && password.touched">*Password is a required field && Password is at Least 6 </small>
            </div>
        </div>

        <div class="gender-box">
            <h3>Gender</h3>
            <div class="gender-option">
                <div class="gender" *ngFor="let gender of genders">
                    <input type="radio" id="check-male" [value]="gender" name="gender" [(ngModel)]="user.gender" />
                    <label for="check-male">{{gender}}</label>
                </div>
            </div>
        </div>
        <div class="gender-box">
            <h3>Hobbies</h3>
            <div class="gender-option">
                <div class="gender" *ngFor="let hobby of hobbies">
                    <input type="checkbox" id="check-male"  name="{{hobby}}" [checked]="user.hobbies.includes(hobby)" 
                    (change)="hobbiesSelections($event,hobby)" />
                    <label for="check-male">{{hobby}}</label>
                </div>
            </div>
        </div>

        <div class="input-box address" ngModelGroup="address" #addr="ngModelGroup">
            <label>Address</label>
            <input type="text" placeholder="Street address" name="street1" [(ngModel)]="user.street1" required />
            <input type="text" placeholder="Street address line 2" name="street2" [(ngModel)]="user.street2" />
            <div class="column">
                <div class="select-box">
                    <select name="country" [(ngModel)]="user.country">
                        <option value="">Country</option>
                        <option *ngFor="let country of countries" value="country">{{country}}</option>
                    </select>
                </div>
                <input type="text" placeholder="City" name="city" [(ngModel)]="user.city" required />
            </div>
            <div class="column">
                <input type="text" placeholder="Region" name="region" [(ngModel)]="user.region" />
                <input type="number" placeholder="Postal code" name="postal" [(ngModel)]="user.postal" required />
            </div>
        </div>

        <div class="column">
            <input type="checkbox" name="agreement" ngModel>
            <label for="agreement">I agree to terms & conditions</label>
        </div>
        <div>
            <small *ngIf="addr.invalid && addr.touched">*Some of the address fields does not valid</small>
        </div>
        <input type="submit" value="Submit" class="submit-btn" [disabled]="!registrationForm.valid">
        <div class="register-link">
            <p>Already A Member? <a routerLink="/login">Login here</a></p>
          </div>
    </form>
</section>